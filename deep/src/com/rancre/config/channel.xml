<?xml version="1.0" encoding="UTF-8" ?>

<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "mybatis-3-mapper.dtd">
			
<mapper namespace="channel">

	<select id="getRankingList"  resultType="com.rancre.model.domain.RankTop">
		SELECT * FROM rac_rank_top Limit #{startNo}, 10
	</select>
	
	<select id="getRankingList2" parameterType="java.util.HashMap" resultType="com.rancre.model.domain.RankCategory">

		<if test="mode == 2" >
			SELECT a.* FROM rac_channel a, (SELECT * FROM rac_channel_category WHERE racCategoryNo = #{categoryNo}) b WHERE b.racChannelNo=a.racChannelNo  ORDER BY a.racChannelInsertDate DESC LIMIT #{startNo}, 20
		</if>
		<if test="mode == 3" >
			SELECT * FROM rac_channel ORDER BY racChannelInsertDate DESC LIMIT #{startNo}, 20
		</if>
	</select>
	
	<select id="getChannelByNo"  resultType="com.rancre.model.domain.Channel">
		SELECT * FROM rac_channel WHERE racChannelNo = #{inputChannelNo}
	</select>

	<select id="getChannelAdList"  resultType="com.rancre.model.domain.ChannelAd">
		SELECT * FROM rac_channel_ad WHERE racChannelNo = #{inputChannelNo}
	</select>
	
	<select id="getReviewList"  resultType="com.rancre.model.domain.Review">
		SELECT * FROM rac_review WHERE racChannelNo = #{inputChannelNo} ORDER BY racReviewCreateDate DESC
	</select>
	
	<select id="getRecentVieoList"  resultType="com.rancre.model.domain.Video">
		SELECT * FROM rac_video WHERE racChannelNo = #{inputChannelNo} ORDER BY racVideoNo DESC LIMIT 15
	</select>
	
	<select id="getChannelAd"  resultType="com.rancre.model.domain.ChannelAd">
		SELECT * FROM rac_channel_ad WHERE racChannelAdNo = #{inputChannelAdNo}
	</select>
	<select id="getChannelAdVideoList"  resultType="com.rancre.model.domain.ChannelAd">
		SELECT * FROM rac_channel_ad WHERE racChannelNo = #{inputChannelNo} ORDER BY racChannelAdNo DESC LIMIT 15

	</select>
</mapper>